# HyperKYC Web SDK Demo — Quick Launcher

This is a minimal demo to quickly trigger the HyperKYC Web SDK from a browser. It is NOT a production integration — it only demonstrates the client-side launcher and result handler.

Files added:
- `index.html` — demo page with inputs and a Launch button
- `scripts/app.js` — launch logic and result handler

Before you run
1. Replace the SDK version placeholder in `index.html`'s script tag. Find the line:

   <script id="hv-sdk-script" src="https://hv-web-sdk-cdn.hyperverge.co/hyperverge-web-sdk@<SDK_VERSION>/src/sdk.min.js"></script>

   and replace `<SDK_VERSION>` with the actual version (for example `1.2.3`). The SDK CDN and versions are available in your Web SDK changelog.

2. Provide valid values in the page inputs:
   - `accessToken` — short-lived token generated by your backend
   - `workflowId` — workflow id from HyperVerge Dashboard
   - `transactionId` — unique session id for this run

Run locally
You can serve the folder using a small static server. Example (works on macOS):

```fish
python3 -m http.server 8000

# or, if you prefer npm's http-server and have it installed
npx http-server -p 8000
```

Open in your browser:

http://localhost:8000/index.html

Testing
- Enter the three required fields and click "Launch HyperKYC".
- Output and logs will appear in the page and in the browser console.

Notes and troubleshooting
- If you see the message "HyperKYC SDK not loaded", the page didn't load a valid SDK. Confirm you replaced `<SDK_VERSION>` in the script tag with a real version.
- The SDK requires a valid short-lived `accessToken` issued by your backend. This demo doesn't implement token generation.
- For production, follow the security guidance in your integration docs: generate tokens server-side, never embed long-lived secrets in client code, and verify results server-side via webhooks or API.

HTTPS / "Insecure browser context" errors
----------------------------------------

The HyperKYC Web SDK requires a secure browser context (HTTPS). If you see an SDK error like:

```
Insecure browser context detected. Please access the SDK in a secure context (HTTPS) for proper functionality.
```

Use one of these easy local options to serve the demo over HTTPS:

1) Expose with ngrok (fast, recommended for quick testing)

```fish
# Install ngrok (if not installed) and authenticate first following ngrok docs
ngrok http 8000

# ngrok will print an HTTPS forwarding URL like https://abcd-1234.ngrok.io
# Open that URL in your browser to test the SDK over HTTPS
```

2) Serve with Node's http-server and a self-signed certificate (dev only)

Generate a cert (OpenSSL):

```fish
openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout key.pem -out cert.pem -subj "/CN=localhost"

# Then run http-server with SSL flags (http-server must be installed or available via npx)
npx http-server -p 8000 --ssl --cert cert.pem --key key.pem
```

On some browsers you'll have to accept the self-signed certificate (dev only). For fewer hassles, use ngrok or mkcert.

3) Use mkcert to create locally-trusted certs (recommended for repeated local dev)

```fish
# macOS: install mkcert via brew
brew install mkcert nss
mkcert -install
mkcert localhost
# This generates cert files like localhost.pem and localhost-key.pem
npx http-server -p 8000 --ssl --cert localhost.pem --key localhost-key.pem
```

4) Deploy to any HTTPS host (GitHub Pages, Netlify, Vercel) and test there.

If you prefer, I can add a short checklist/automation to run ngrok or to generate certs for you—tell me which option you want and I will add exact commands or small helper scripts.

Next steps
- Wire a backend endpoint to mint short-lived access tokens, and update the page to fetch tokens from that endpoint.
- Add UI flows for each `HyperKycResult.status` branch and persist results server-side.

Running the React app (Vite)
--------------------------------

This workspace now includes a minimal React app (Vite) that contains the same demo UI and logic.

1. Install dependencies:

```fish
npm install
```

2. Start the dev server:

```fish
npm run dev
```

3. Open the URL printed by Vite (usually http://localhost:5173) or use the existing ngrok HTTPS forwarding URL to test over HTTPS.

Tip: If you want to expose the dev server over HTTPS quickly, reuse `./run-https.fish` which starts the local server and an ngrok tunnel.
